---
- name: CONFIGURE | Bash
  tags:
  - configure
  block:
  - name: CONFIGURE | Configure HISTSIZE
    ansible.builtin.lineinfile:
      path: "{{ bashrc }}"
      regexp: "^HISTSIZE="
      line: "HISTSIZE={{ HISTSIZE }}"

  - name: CONFIGURE | Configure HISTFILESIZE
    ansible.builtin.lineinfile:
      path: "{{ bashrc }}"
      regexp: "^HISTFILESIZE="
      line: "HISTFILESIZE={{ HISTFILESIZE }}"

  - name: CONFIGURE | Configure INPUTRC
    ansible.builtin.lineinfile:
      path: "{{ bashrc }}"
      regexp: "^INPUTRC="
      line: "INPUTRC={{ inputrc }}"
    when: inputrc is defined

  - name: CONFIGURE | Ensure inputrc path exists
    ansible.builtin.file:
      path: "{{ inputrc | dirname }}"
      state: directory
    when: inputrc is defined
